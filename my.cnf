[mysqld]
# Giới hạn bộ nhớ buffer pool
innodb_buffer_pool_size=128M          # Kích thước InnoDB buffer pool (giảm tiêu thụ RAM, giảm truy vấn bộ nhớ)
innodb_log_buffer_size=8M             # Cache ghi log
key_buffer_size=16M                   # Bộ nhớ index cho MyISAM
query_cache_size=16M                  # Cache kết quả truy vấn

# Tối ưu hóa thread
thread_stack=262144                   # Giới hạn stack size cho mỗi thread (giảm RAM cho thread)
max_connections=20                    # Giới hạn kết nối tối đa (tăng performance bằng cách giới hạn client)

# Slow query log (chỉ dùng khi debug)
slow_query_log=0                      # Vô hiệu hóa log truy vấn chậm (tiết kiệm I/O)

# Tối ưu hóa bộ nhớ tạm thời
tmp_table_size=16M                    # Giảm tối đa bộ nhớ cho bảng tạm thời
max_heap_table_size=16M               # Giảm tối đa bộ nhớ cho bảng trong RAM

# Khác
table_open_cache=64                   # Số lượng bảng có thể mở cùng lúc
performance_schema=off                # Tắt Performance Schema để giảm RAM

# Tối ưu hóa bộ nhớ thread cache
thread_cache_size=4                   # Điều chỉnh thread để giảm RAM thread cache